buildscript {
 	repositories {
      		jcenter()
      		mavenCentral()
    	        maven { url 'http://maven.wso2.org/nexus/content/groups/wso2-public' }
  }
}

apply plugin: 'java'
apply plugin: 'maven-publish'

task buildAndDeploy() {
    println "Executing the build and CAR deployment task..."

    dependsOn ':wso2-ei-deployment:buildWSO2'
    dependsOn ':wso2-ei-deploymentCompositeApplication:buildWSO2'
    dependsOn ':wso2-ei-deploymentCompositeApplication:deployWSO2'

    tasks.findByPath(':wso2-ei-deploymentCompositeApplication:deployWSO2').mustRunAfter ':wso2-ei-deployment:buildWSO2'
    tasks.findByPath(':wso2-ei-deploymentCompositeApplication:deployWSO2').mustRunAfter ':wso2-ei-deploymentCompositeApplication:buildWSO2'

}